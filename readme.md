В качестве класса игрока использовал обычный Character
(blueprint) с добавленными инпутами для Move, Look, Gadget действий

В качестве класса NPC использовал класс NPC/BasePlushe
у него в details указывается референс на другой .uasset, отнаследованный от
PlusheSettings.h - при его асинхронной загрузке сеттим параметры npc и,
в его BP классе определеяется тип поведения

Поведение разделено на 3 BehaviorTree 
изначально это либо BT_Aggressive/BT_Scared в зависимости от того,
что указано в ассете настроек. При приближении и нажатии на F (input action игрока)
происходит срабатывание Gadget и переключение логики npc на режим Friendly
(функция MakeFriendlyTo() в блюпринте контроллера)

Сам ассет настроек PlusheSettings.h решил сделать через простой UObject,
там есть макс. скорось npc, радиусы входа / выхода цели и тип.
Указывается в category = "PlusheSettings"


Ответы по вопросам:
 - Масштабируемость
один из вариантов использовать GAS, и давать / убираеть абилити на старте или 
при каких-то условиях. Тогда логику того, что делает npcможно прописать в абилити, 
а как и когда они вызывваются - через BT или другой системой AI. 
Альтернативой GAS можно сделать свою систему, где логику действий содержать в отдельных .uasset
отнаследованных от UObject 
Тогда в классе персонажа будет только то, что связано с его основной movement-логикой и визуальная часть.
Как еще один вариант - использовать сам класс по большей части как данные персонажа и основные функции для их обработки,
и некоторую логику убирать в ActorComponent и добавлять / убирать в динамике и комбинировать с тем, что было выше

- Сетевая игра
Скажу честно, в сетевой части самого анрила пока что плаваю, так как работал в основном с сингловыми проектами,
Скорее всего логику gadget с клиента придется реплицировать с клиентского прокси-актора игрока на серверный через RPC
чтобы серверная версия npc начала обрабатывать логику BT - таким образом, если npc это реплицированный актор,
то он будет передавать свои движения всем своим клиентским прокси.

- Оптимизация
если на уровне 100 плюшей, то для каждого нужно будет обрабатывать логику BT,
а если есть еще mesh, и анимации, то и их тоже, не говоря уже о самих классах. 
Очевидным будет использовать лодирование, если есть npc в далеке, которые с нами вряд ли будут взаимодействовать -
у них можно выключить BT, сделать лодирование SKeletalMesh и упростить анимации. 
Если же на уровне есть стены или локации, которые недоступны пока игроку, то акторов вне поля зрения можно выключить/выгрузить из памяти, 
рендер-примитивы убрать.




